<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>ログイン</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
	<div class="container mt-5">
		<h1 class="text-center">ログイン</h1>
		<div class="card p-4 mx-auto mt-4" style="max-width: 400px;">
			<!-- Tymeleafフォーム送信 -->
			<form action="/login" method="post">
				<div class="mb-3">
					<!-- ユーザー名入力フォーム -->
					<label for="username" class="form-label">ユーザー名</label>
					<input id="username" type="text" class="form-control" name="username" required>
				</div>
				<div class="mb-3">
					<!-- パスワード入力フォーム -->
					<label for="password" class="form-label">パスワード</label>
					<input id="password" type="password" class="form-control" name="password" required>
				</div>
				<!-- ログインボタン -->
				<button type="submit" class="btn btn-primary w-100">ログイン</button>
			</form>
			
			<!-- API直叩きボタン -->
			<!--
			<div class="mt-3 text-center text-muted">または</div>
			
			<button class="btn btn-success w-100 mt-2" id="apiLoginBtn">APIでログイン</button>
			-->
			
		</div>
	</div>
	
	<!--
	<script>
		document.getElementById("apiLoginBtn").addEventListener("click",()=>{
			const username = document.getElementById("username").value;
			const password = document.getElementById("password").value;
			
			fetch("/api/auth/login",{
				method: "POST",
				headers: {"Content-Type":"application/x-www-form-urlencoded"},
				body: new URLSearchParams({username, password})
			}).then(res => {
				if(res.ok){
					// 成功時にThymeleafページにリダイレクト
					window.location.href = "/tasks";
				} else{
					alert("APIログイン失敗");
				}
			});
		});
	</script>
	-->

</body>

</html>